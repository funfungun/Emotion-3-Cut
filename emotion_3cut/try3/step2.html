<!DOCTYPE html>
<html lang="en">
<link rel="stylesheet" href="../style.css">

<head>
    <meta charset="'UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>감성세컷</title>
    <script>
        function executePath1() {
            window.location.href = "test://";
        }

        function executePath2() {
            window.location.href = "test.predict://";
        }

        async function executePath3() {
            var imagePath = "C:/Users/PC/hci/Face-Emotion-Recognition-Package/temp/";
            var sadnessImage = imagePath + "sadness.png";
            var happyImage = imagePath + "happiness.png";
            var angryImage = imagePath + "angry.png";

            try {
                if (await checkImageExists(sadnessImage)) {
                    window.location.href = "sad.html";
                } else if (await checkImageExists(happyImage)) {
                    window.location.href = "happy.html";
                } else if (await checkImageExists(angryImage)) {
                    window.location.href = "angry.html";
                }
            } catch (error) {
                console.error(error);
            }
        }

        function checkImageExists(imageUrl) {
            return new Promise(function (resolve, reject) {
                var image = new Image();
                image.onload = function () {
                    resolve(true);
                };
                image.onerror = function () {
                    resolve(false);
                };
                image.src = imageUrl;
            });
        }
    </script>
</head>

<body>
    <h1>
        <img src="..\picture\camera.png" width="100" height="100">
        3rd CUT
        <img src="..\picture\camera.png" width="100" height="100">
    </h1>
    <h2>Step 2. 표정인식 및 분석 단계</h2>
    <h3>-버튼을 순서대로 눌러 시작하세요-</h3>
    <button onclick="executePath1()">표정 인식</button>
    <button onclick="executePath2()">분석 시작</button>
    <button onclick="executePath3()">결과 확인</button>
</body>

</html>